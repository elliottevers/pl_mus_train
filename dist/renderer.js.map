{"version":3,"file":"renderer.js","sourceRoot":"","sources":["../src/renderer.ts"],"names":[],"mappings":"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","sourcesContent":["// Globals defined in Max environment\n\n// NB: comment for Max compilation, uncomment for running compiled JS with node\n// let inlets, outlets, autowatch;\n// let Global: any = {};\n\nimport {clip as c} from \"./clip/clip\";\nimport {message as m} from \"./message/messenger\";\nconst sinon = require(\"sinon\");\nimport {window as w} from \"./render/window\";\nimport {log} from \"./log/logger\";\n\ninlets = 1;\noutlets = 1;\nautowatch = 1;\n\n(Global as any).main = function main() {\n    // clip 1\n    let clip_dao_1 = new c.ClipDao(0, 0, new m.Messenger('node', 0), false);\n    sinon.stub(clip_dao_1, \"get_start_marker\").callsFake(() => {\n        return 0;\n    });\n    sinon.stub(clip_dao_1, \"get_end_marker\").callsFake(() => {\n        return 4;\n    });\n    sinon.stub(clip_dao_1, \"get_notes\").callsFake(() => {\n        return [\"notes\",1,\"note\",50,0,4,127,0,\"done\"]\n    });\n\n\n    // clip 2\n    let clip_dao_2 = new c.ClipDao(0, 0, new m.Messenger('node', 0), false);\n    sinon.stub(clip_dao_2, \"get_start_marker\").callsFake(() => {\n        return 0;\n    });\n    sinon.stub(clip_dao_2, \"get_end_marker\").callsFake(() => {\n        return 4;\n    });\n    sinon.stub(clip_dao_2, \"get_notes\").callsFake(() => {\n        return [\"notes\",2,\"note\",50,0,2,127,0,\"note\",54,2,2,127,0,\"done\"]\n    });\n\n\n    // clip 3\n    let clip_dao_3 = new c.ClipDao(0, 0, new m.Messenger('node', 0), false);\n    sinon.stub(clip_dao_3, \"get_start_marker\").callsFake(() => {\n        return 0;\n    });\n    sinon.stub(clip_dao_3, \"get_end_marker\").callsFake(() => {\n        return 4;\n    });\n    sinon.stub(clip_dao_3, \"get_notes\").callsFake(() => {\n        return [\"notes\",3,\"note\",50,0,1,127,0,\"note\",52,1,1,127,0,\"note\",54,2,2,127,0,\"done\"]\n    });\n\n\n    // clip 4\n    let clip_dao_4 = new c.ClipDao(0, 0, new m.Messenger('node', 0), false);\n    sinon.stub(clip_dao_4, \"get_start_marker\").callsFake(() => {\n        return 0;\n    });\n    sinon.stub(clip_dao_4, \"get_end_marker\").callsFake(() => {\n        return 4;\n    });\n    sinon.stub(clip_dao_4, \"get_notes\").callsFake(() => {\n        return [\"notes\",4,\"note\",50,0,1,127,0,\"note\",52,1,1,127,0,\"note\",54,2,1,127,0,\"note\",55,3,1,127,0,\"done\"]\n    });\n\n    let clip_1 = new c.Clip(clip_dao_1);\n    let clip_2 = new c.Clip(clip_dao_2);\n    let clip_3 = new c.Clip(clip_dao_3);\n    let clip_4 = new c.Clip(clip_dao_4);\n\n    clip_1.load_notes();\n    clip_2.load_notes();\n    clip_3.load_notes();\n    clip_4.load_notes();\n\n    var dim = 16 * 6 * 4;\n\n    var pwindow = new w.Pwindow(\n        dim,\n        dim,\n        new m.Messenger('node', 0)\n    );\n\n    pwindow.add_clip(clip_4);\n    pwindow.add_clip(clip_3);\n    pwindow.add_clip(clip_2);\n    pwindow.add_clip(clip_1);\n\n    let messages = pwindow.get_messages_render_clips();\n\n    let logger = new log.Logger('node');\n\n    for (let message of messages) {\n        logger.log(message);\n    }\n};\n\n// NB: commeno\n// NB: comment for Max compilation, uncomment for running compiled JS with node\n\n"]}