{"version":3,"file":"renderer.js","sourceRoot":"","sources":["../src/renderer.ts"],"names":[],"mappings":"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","sourcesContent":["declare let Global: any;\n// TODO: make dedicated library object for the following\ndeclare let autowatch: any;\ndeclare let inlets: any;\ndeclare let outlets: any;\ndeclare function outlet(n: number, o: any): void;\n\nimport {clip as c} from \"./clip/clip\";\nimport {message as m} from \"./message/messenger\";\n// const sinon = require(\"sinon\");\nimport {window as w} from \"./render/window\";\nimport {log} from \"./log/logger\";\n\nautowatch = 1;\n\n// let env: string = process.argv[2];\n// TODO: handle better\nlet env: string = 'max';\n\nlet main = ()=>{\n    // clip 1\n    let clip_dao_1 = new c.ClipDao(15, 0, new m.Messenger(env, 0), false);\n    // sinon.stub(clip_dao_1, \"get_start_marker\").callsFake(() => {\n    //     return 0;\n    // });\n    // sinon.stub(clip_dao_1, \"get_end_marker\").callsFake(() => {\n    //     return 4;\n    // });\n    // sinon.stub(clip_dao_1, \"get_notes\").callsFake(() => {\n    //     return [\"notes\",1,\"note\",50,0,4,127,0,\"done\"]\n    // });\n\n\n    // clip 2\n    let clip_dao_2 = new c.ClipDao(14, 0, new m.Messenger(env, 0), false);\n    // sinon.stub(clip_dao_2, \"get_start_marker\").callsFake(() => {\n    //     return 0;\n    // });\n    // sinon.stub(clip_dao_2, \"get_end_marker\").callsFake(() => {\n    //     return 4;\n    // });\n    // sinon.stub(clip_dao_2, \"get_notes\").callsFake(() => {\n    //     return [\"notes\",2,\"note\",50,0,2,127,0,\"note\",54,2,2,127,0,\"done\"]\n    // });\n\n\n    // clip 3\n    let clip_dao_3 = new c.ClipDao(13, 0, new m.Messenger(env, 0), false);\n    // sinon.stub(clip_dao_3, \"get_start_marker\").callsFake(() => {\n    //     return 0;\n    // });\n    // sinon.stub(clip_dao_3, \"get_end_marker\").callsFake(() => {\n    //     return 4;\n    // });\n    // sinon.stub(clip_dao_3, \"get_notes\").callsFake(() => {\n    //     return [\"notes\",3,\"note\",50,0,1,127,0,\"note\",52,1,1,127,0,\"note\",54,2,2,127,0,\"done\"]\n    // });\n\n\n    // clip 4\n    let clip_dao_4 = new c.ClipDao(12, 0, new m.Messenger(env, 0), false);\n    // sinon.stub(clip_dao_4, \"get_start_marker\").callsFake(() => {\n    //     return 0;\n    // });\n    // sinon.stub(clip_dao_4, \"get_end_marker\").callsFake(() => {\n    //     return 4;\n    // });\n    // sinon.stub(clip_dao_4, \"get_notes\").callsFake(() => {\n    //     return [\"notes\",4,\"note\",50,0,1,127,0,\"note\",52,1,1,127,0,\"note\",54,2,1,127,0,\"note\",55,3,1,127,0,\"done\"]\n    // });\n\n    let clip_1 = new c.Clip(clip_dao_1);\n    let clip_2 = new c.Clip(clip_dao_2);\n    let clip_3 = new c.Clip(clip_dao_3);\n    let clip_4 = new c.Clip(clip_dao_4);\n\n    clip_1.load_notes();\n    clip_2.load_notes();\n    clip_3.load_notes();\n    clip_4.load_notes();\n\n    var dim = 16 * 6 * 4;\n\n    var pwindow = new w.Pwindow(\n        dim,\n        dim,\n        new m.Messenger(env, 0)\n    );\n\n    pwindow.add_clip(clip_4);\n    pwindow.add_clip(clip_3);\n    pwindow.add_clip(clip_2);\n    pwindow.add_clip(clip_1);\n\n    let messages = pwindow.get_messages_render_clips();\n\n    let logger = new log.Logger(env);\n\n    for (let message of messages) {\n        logger.log(message);\n    }\n};\n\nif (typeof Global !== \"undefined\") {\n    Global.renderer = {};\n    Global.renderer.main = main;\n}\n"]}