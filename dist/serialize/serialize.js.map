{"version":3,"file":"serialize.js","sourceRoot":"","sources":["../../src/serialize/serialize.ts"],"names":[],"mappings":";;AAEA,sCAAyC;AAEzC,IAAiB,SAAS,CAkGzB;AAlGD,WAAiB,SAAS;IAEX,wBAAc,GAAG,UAAC,IAA+B;QACxD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC,CAAC;IAES,0BAAgB,GAAG,UAAC,eAAe;QAC1C,IAAI,eAAe,KAAK,IAAI,EAAE;YAC1B,OAAO,IAAI,CAAA;SACd;QAED,IAAI,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC;IAES,iCAAuB,GAAG,UAAC,KAAK;QACvC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,IAAI,CAAA;SACd;QAED,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAE1B,KAAiB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK,EAAE;YAAnB,IAAI,MAAI,cAAA;YACT,gBAAgB,CAAC,IAAI,CAAC,UAAA,cAAc,CAAC,MAAI,CAAC,CAAC,CAAA;SAC9C;QAED,OAAO,gBAAgB,CAAA;IAC3B,CAAC,CAAC;IAEF,uCAAuC;IACvC,EAAE;IACF,+DAA+D;IAC/D,qCAAqC;IACrC,mBAAmB;IACnB,+CAA+C;IAC/C,wCAAwC;IACxC,kEAAkE;IAClE,mCAAmC;IACnC,KAAK;IACL,EAAE;IACF,iEAAiE;IACjE,yDAAyD;IACzD,iFAAiF;IACjF,qCAAqC;IACrC,KAAK;IACL,EAAE;IACF,qDAAqD;IACrD,EAAE;IACF,gEAAgE;IAChE,wDAAwD;IACxD,8CAA8C;IAC9C,4FAA4F;IAC5F,gDAAgD;IAChD,+DAA+D;IAC/D,iHAAiH;IACjH,YAAY;IACZ,QAAQ;IACR,yCAAyC;IACzC,KAAK;IACL,EAAE;IACF,6EAA6E;IAC7E,qEAAqE;IACrE,EAAE;IACF,yDAAyD;IACzD,0FAA0F;IAC1F,gDAAgD;IAChD,+DAA+D;IAC/D,qHAAqH;IACrH,YAAY;IACZ,QAAQ;IACR,2CAA2C;IAC3C,KAAK;IAEL,8DAA8D;IAC9D,wDAAwD;IACxD,8CAA8C;IAC9C,4FAA4F;IAC5F,gDAAgD;IAChD,+DAA+D;IAC/D,iHAAiH;IACjH,YAAY;IACZ,QAAQ;IACR,yCAAyC;IACzC,KAAK;IACL,EAAE;IACF,2EAA2E;IAC3E,qEAAqE;IACrE,EAAE;IACF,yDAAyD;IACzD,0FAA0F;IAC1F,gDAAgD;IAChD,+DAA+D;IAC/D,qHAAqH;IACrH,YAAY;IACZ,QAAQ;IACR,2CAA2C;IAC3C,KAAK;AACT,CAAC,EAlGgB,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAkGzB","sourcesContent":["import {target} from \"../target/target\";\nimport {note} from \"../note/note\";\nimport TreeModel = require(\"tree-model\");\n\nexport namespace serialize {\n\n    export let serialize_note = (note: TreeModel.Node<note.Note>) => {\n        return JSON.stringify(note.model);\n    };\n\n    export let deserialize_note = (note_serialized) => {\n        if (note_serialized === null) {\n            return null\n        }\n\n        let tree = new TreeModel();\n\n        return tree.parse(JSON.parse(note_serialized));\n    };\n\n    export let serialize_sequence_note = (notes) => {\n        if (!notes) {\n            return null\n        }\n\n        let notes_serialized = [];\n\n        for (let note of notes) {\n            notes_serialized.push(serialize_note(note))\n        }\n\n        return notes_serialized\n    };\n\n    // import Subtarget = target.Subtarget;\n    //\n    // export let serialize_subtarget = (subtarget: Subtarget) => {\n    //     let subtarget_serialized: any;\n    //     // TODO: fix\n    //     // let subtarget_serialized = subtarget;\n    //     subtarget_serialized = subtarget;\n    //     subtarget_serialized.note = serialize_note(subtarget.note);\n    //     return subtarget_serialized;\n    // };\n    //\n    // export let deserialize_subtarget = (subtarget_serialized) => {\n    //     let subtarget_deserialized = subtarget_serialized;\n    //     subtarget_deserialized.note = deserialize_note(subtarget_serialized.note);\n    //     return subtarget_deserialized;\n    // };\n    //\n    // // import SequenceTarget = history.SequenceTarget;\n    //\n    // export let serialize_target_sequence = (sequence_target) => {\n    //     let sequence_target_serialized = sequence_target;\n    //     for (let i_target in sequence_target) {\n    //         let subtargets = sequence_target[Number(i_target)].iterator_subtarget.subtargets;\n    //         for (let i_subtarget in subtargets) {\n    //             let subtarget = subtargets[Number(i_subtarget)];\n    //             sequence_target_serialized[Number(i_target)][Number(i_subtarget)] = serialize_subtarget(subtarget)\n    //         }\n    //     }\n    //     return sequence_target_serialized;\n    // };\n    //\n    // export let deserialize_target_sequence = (sequence_target_serialized) => {\n    //     let sequence_target_deserialized = sequence_target_serialized;\n    //\n    //     for (let i_target in sequence_target_serialized) {\n    //         let subtargets = sequence_target_serialized[Number(i_target)].get_subtargets();\n    //         for (let i_subtarget in subtargets) {\n    //             let subtarget = subtargets[Number(i_subtarget)];\n    //             sequence_target_deserialized[Number(i_target)][Number(i_subtarget)] = deserialize_subtarget(subtarget)\n    //         }\n    //     }\n    //     return sequence_target_deserialized;\n    // };\n\n    // export let serialize_note_sequence = (sequence_target) => {\n    //     let sequence_target_serialized = sequence_target;\n    //     for (let i_target in sequence_target) {\n    //         let subtargets = sequence_target[Number(i_target)].iterator_subtarget.subtargets;\n    //         for (let i_subtarget in subtargets) {\n    //             let subtarget = subtargets[Number(i_subtarget)];\n    //             sequence_target_serialized[Number(i_target)][Number(i_subtarget)] = serialize_subtarget(subtarget)\n    //         }\n    //     }\n    //     return sequence_target_serialized;\n    // };\n    //\n    // export let deserialize_note_sequence = (sequence_target_serialized) => {\n    //     let sequence_target_deserialized = sequence_target_serialized;\n    //\n    //     for (let i_target in sequence_target_serialized) {\n    //         let subtargets = sequence_target_serialized[Number(i_target)].get_subtargets();\n    //         for (let i_subtarget in subtargets) {\n    //             let subtarget = subtargets[Number(i_subtarget)];\n    //             sequence_target_deserialized[Number(i_target)][Number(i_subtarget)] = deserialize_subtarget(subtarget)\n    //         }\n    //     }\n    //     return sequence_target_deserialized;\n    // };\n}"]}