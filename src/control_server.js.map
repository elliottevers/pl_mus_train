{"version":3,"file":"control_server.js","sourceRoot":"","sources":["control_server.ts"],"names":[],"mappings":";;AAAA,6CAA0C;AAC1C,IAAO,SAAS,GAAG,iBAAO,CAAC,SAAS,CAAC;AACrC,iDAA4C;AAC5C,IAAO,SAAS,GAAG,mBAAO,CAAC,SAAS,CAAC;AAYrC,IAAI,GAAG,GAAW,MAAM,CAAC;AAEzB,IAAI,GAAG,KAAK,KAAK,EAAE;IACf,IAAI,CAAC,sBAAsB,CAAC,CAAC;IAC7B,SAAS,GAAG,CAAC,CAAC;CACjB;AAED,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AAEtC,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;AAEhD,IAAI,IAAI,GAAG,UAAC,iBAAiB;IACzB,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC,CAAA;AACrE,CAAC,CAAC;AAEF,IAAI,KAAK,GAAG,UAAC,eAAe;IACxB,SAAS,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AACrC,CAAC,CAAC;AAEF,IAAI,MAAM,GAAG,UAAC,eAAe;IACzB,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;AACtC,CAAC,CAAC;AAEF,IAAI,IAAI,GAAG;IACP,mEAAmE;IACnE,IAAI,CAAC,CAAC,CAAC,CAAC;IACR,IAAI,CAAC,CAAC,CAAC,CAAC;IACR,KAAK,CAAC,CAAC,CAAC,CAAC;IACT,MAAM,CAAC,CAAC,CAAC,CAAC;IACV,KAAK,CAAC,CAAC,CAAC,CAAC;IACT,MAAM,CAAC,CAAC,CAAC,CAAC;AACd,CAAC,CAAC;AAEF,IAAI,EAAE,CAAC;AAEP,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;IAC/B,MAAM,CAAC,cAAc,GAAG,EAAE,CAAC;IAC3B,MAAM,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;IAClC,MAAM,CAAC,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;IACpC,MAAM,CAAC,cAAc,CAAC,MAAM,GAAG,MAAM,CAAC;IACtC,MAAM,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC;CACpC","sourcesContent":["import {control} from \"./control/control\";\nimport Fretboard = control.Fretboard;\nimport {message} from \"./message/messenger\";\nimport Messenger = message.Messenger;\n\ndeclare let autowatch: any;\ndeclare let inlets: any;\ndeclare let outlets: any;\ndeclare function outlet(n: number, o: any): void;\ndeclare function post(message?: any): void;\n\nexport {}\n\ndeclare let Global: any;\n\nlet env: string = 'node';\n\nif (env === 'max') {\n    post('recompile successful');\n    autowatch = 1;\n}\n\nlet messenger = new Messenger(env, 0);\n\nlet fretboard = new Fretboard(6, 12, messenger);\n\nlet fret = (coordinate_scalar) => {\n    fretboard.fret(fretboard.get_coordinate_duple(coordinate_scalar))\n};\n\nlet pluck = (position_string) => {\n    fretboard.pluck(position_string);\n};\n\nlet dampen = (position_string) => {\n    fretboard.dampen(position_string);\n};\n\nlet test = () => {\n    // TODO: why 1) off by one error 2) second pluck doesn't return 65?\n    fret(1);\n    fret(3);\n    pluck(1);\n    dampen(1);\n    pluck(1);\n    dampen(1);\n};\n\ntest();\n\nif (typeof Global !== \"undefined\") {\n    Global.control_server = {};\n    Global.control_server.fret = fret;\n    Global.control_server.pluck = pluck;\n    Global.control_server.dampen = dampen;\n    Global.command_shell.test = test;\n}\n"]}