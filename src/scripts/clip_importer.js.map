{"version":3,"file":"clip_importer.js","sourceRoot":"","sources":["clip_importer.ts"],"names":[],"mappings":"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","sourcesContent":["import {message as m, message} from \"../message/messenger\";\nimport Messenger = message.Messenger;\nimport {live, live as li} from \"../live/live\";\nimport {clip, clip as c} from \"../clip/clip\";\nimport LiveApiJs = live.LiveApiJs;\nimport {log} from \"../log/logger\";\nimport Logger = log.Logger;\nimport {io} from \"../io/io\";\nimport Exporter = io.Exporter;\nimport Importer = io.Importer;\nimport Clip = clip.Clip;\nimport ClipDao = clip.ClipDao;\n\ndeclare let autowatch: any;\ndeclare let inlets: any;\ndeclare let outlets: any;\ndeclare function outlet(n: number, o: any): void;\ndeclare function post(message?: any): void;\ndeclare let Dict: any;\n\nexport {}\n\ndeclare let Global: any;\n\nlet env: string = 'max';\n\nif (env === 'max') {\n    post('recompile successful');\n    autowatch = 1;\n}\n\nlet dir_projects = '/Users/elliottevers/Documents/DocumentsSymlinked/git-repos.nosync/tk_music_projects/';\n\nlet file_json_comm = dir_projects + 'json_live.json';\n\n// let exporter = new Exporter(\n//     '/Users/elliottevers/Documents/DocumentsSymlinked/git-repos.nosync/music/src/cache/json/live/from_live.json'\n// );\n\n// let set_length = () => {\n//     let clip_highlighted = new li.LiveApiJs(\n//         'live_set view highlighted_clip_slot clip'\n//     );\n//\n//     exporter.set_length(\n//         clip_highlighted.get(\"length\")\n//     );\n//\n// };\n\n// let set_tempo = () => {\n//     let song = new li.LiveApiJs(\n//         'live_set'\n//     );\n//\n//     exporter.set_tempo(\n//         song.get('tempo')\n//     );\n// };\n\n// let add = (name_part) => {\n//\n//     let song = new li.LiveApiJs(\n//         'live_set'\n//     );\n//\n//     let clip_highlighted = new li.LiveApiJs(\n//         'live_set view highlighted_clip_slot clip'\n//     );\n//\n//     let clip = new c.Clip(\n//         new c.ClipDao(\n//             clip_highlighted,\n//             new m.Messenger(env, 0),\n//             false\n//         )\n//     );\n//\n//     let notes = clip.get_notes(\n//         0,\n//         0,\n//         clip_highlighted.get(\"length\"),\n//         128\n//     );\n//\n//     exporter.set_notes(\n//         name_part,\n//         notes\n//     );\n// };\n\n// let remove = (name_part) => {\n//     exporter.unset_notes(\n//         name_part\n//     );\n// };\n//\n//\n// let export_clips = () => {\n//     exporter.export_clips(\n//         ['melody', 'chord', 'bass']\n//     )\n// };\n\nlet import_clip = (name_part) => {\n\n    let logger = new Logger(env);\n\n    // let dict = new Dict();\n\n    // let file_test = '/Users/elliottevers/Downloads/from_live.json';\n\n    // dict.import_json(file_json_comm);\n\n    // logger.log(JSON.stringify(dict.get()));\n\n    // logger.log(file_json_comm)\n\n    // let logger = new Logger(env);\n    //\n    // let importer = new Importer(file_json_comm, name_part);\n    //\n    // let notes = importer.get_notes(name_part);\n\n    let clipslot_highlighted = new li.LiveApiJs(\n        'live_set view highlighted_clip_slot'\n    );\n\n    clipslot_highlighted.call('create_clip', '297');\n\n    let dict = new Dict();\n\n    dict.import_json(file_json_comm);\n\n    let notes = c.Clip.parse_note_messages(\n        dict.get([name_part, 'notes'].join('::'))\n    );\n\n    let clip_highlighted = new li.LiveApiJs(\n        'live_set view highlighted_clip_slot clip'\n    );\n\n    let clip = new Clip(\n        new ClipDao(\n            clip_highlighted,\n            new Messenger(env, 0)\n        )\n    );\n\n    clip.set_notes(notes);\n\n    // logger.log(JSON.stringify(clipslot_highlighted.get_children()));\n};\n\nlet test = () => {\n\n    // let song = new li.LiveApiJs(\n    //     'live_set'\n    // );\n    //\n    // let clip_highlighted = new li.LiveApiJs(\n    //     'live_set view highlighted_clip_slot clip'\n    // );\n    //\n    // let length_clip = clip_highlighted.get(\"length\");\n    //\n    // let tempo = song.get(\"tempo\");\n    //\n    // let logger = new Logger(env);\n    //\n    // logger.log(clip_highlighted.get_id())\n};\n\n\nif (typeof Global !== \"undefined\") {\n    Global.clip_importer = {};\n    Global.clip_importer.import_clip = import_clip;\n    // Global.export_clips.add = add;\n    // Global.export_clips.remove = remove;\n    // Global.export_clips.export_clips = export_clips;\n    // Global.export_clips.set_length = set_length;\n    // Global.export_clips.set_tempo = set_tempo;\n}\n"]}